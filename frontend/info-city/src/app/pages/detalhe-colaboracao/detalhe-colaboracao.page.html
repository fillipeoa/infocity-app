<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        color="secondary"
        defaultHref="/tabs/home"
      ></ion-back-button>
    </ion-buttons>
    <h2 class="titulo">Detalhes da colaboracao</h2>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="carregou">
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        <ion-item>
          <ion-avatar slot="start">
            <img
              src="https://widgetwhats.com/app/uploads/2019/11/free-profile-photo-whatsapp-1.png"
            />
          </ion-avatar>
          <ion-label class="nome">{{this.colaboracao.usuario.userName}}</ion-label>
        </ion-item>
      </ion-card-title>
    </ion-card-header>

    <ion-item-divider></ion-item-divider>

    <ion-card-content >
      <h1 class="cardTitulo"><strong>{{this.colaboracao.titulo}}</strong></h1>
      <div class="descricao ion-margin">
        {{this.colaboracao.descricao}}
      </div>

      <ion-item-divider></ion-item-divider>

      <h1 class="tituloEndereco"><strong>Endereço</strong></h1>

      <div class="endereco">
        <strong>Rua:</strong> {{this.colaboracao.rua}}<br />
        <strong>Número:</strong> {{this.colaboracao.numero}}<br />
        <strong>Bairro:</strong> {{this.colaboracao.bairro}}<br />
        <strong>Complemento:</strong> {{this.colaboracao.complemento}}<br />
        <strong>Cidade:</strong> {{this.colaboracao.cidade.nome}}<br />
      </div>

      <div *ngIf="colaboracao.flagSituacao == 1 ">

      <ion-item-divider></ion-item-divider>

      <h1 class="tituloEndereco"><strong>Situação</strong></h1>

      <div class="endereco">
        <div *ngFor="let situacao of situacoes"><strong>{{situacao.data.substring(0,10).split('-').reverse().join('-') + " " + situacao.data.substring(11,16)}} </strong>{{situacao.descricao}}<br /></div>
      </div>

      <ion-item-divider></ion-item-divider>

      <h1 class="tituloEndereco"><strong>Avalie a resposta a essa colaboração:</strong></h1>

      <div style="display: block; margin-left: auto; margin-right: auto;">  
      <ionic5-star-rating #rating
        activeIcon = "star"
        defaultIcon = "star-outline"
        activeColor = "#ffff00" 
        defaultColor = "gray"
        readonly="false"
        rating="{{this.colaboracao.avaliacao}}"
        fontSize = "32px"
        (ratingChanged)="avaliar(rating)">
    </ionic5-star-rating>
  </div>

  </div>

    </ion-card-content>
  </ion-card>
</ion-content>
